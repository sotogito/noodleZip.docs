ì¢‹ì•„. ì‚¬ìš©ìê°€ ìì‹ ì˜ ë§ˆì´í˜ì´ì§€ì— ë“¤ì–´ì™”ì„ ë•Œ, ë¡œê·¸ì¸ëœ ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ ê°€ì ¸ì™€ **ë§ˆì´í˜ì´ì§€ HTML**ì„ ë³´ì—¬ì£¼ëŠ” ì˜ˆì œë¥¼ `Spring Boot + Thymeleaf` ê¸°ì¤€ìœ¼ë¡œ ì‘ì„±í•´ì¤„ê²Œ.

---

## âœ… 1. Security ì„¤ì • ê¸°ë°˜ (`@AuthenticationPrincipal` ì‚¬ìš©)

### ğŸ”¹ ì»¨íŠ¸ë¡¤ëŸ¬ (`MyPageController.java`)

java

ë³µì‚¬í¸ì§‘

`package noodlezip.user.controller;  import lombok.RequiredArgsConstructor; import noodlezip.user.dto.UserInfoDto; import noodlezip.user.service.UserService; import noodlezip.user.security.CustomUserDetails; import org.springframework.security.core.annotation.AuthenticationPrincipal; import org.springframework.stereotype.Controller; import org.springframework.ui.Model; import org.springframework.web.bind.annotation.GetMapping;  @Controller @RequiredArgsConstructor public class MyPageController {      private final UserService userService;      @GetMapping("/mypage")     public String showMyPage(@AuthenticationPrincipal CustomUserDetails userDetails, Model model) {         Long userId = userDetails.getId(); // ë¡œê·¸ì¸ëœ ì‚¬ìš©ì ID         UserInfoDto userInfo = userService.getUserInfo(userId); // ì‚¬ìš©ì ì •ë³´ ë¶ˆëŸ¬ì˜¤ê¸°          model.addAttribute("user", userInfo);         return "mypage";     } }`

---

## âœ… 2. ì„œë¹„ìŠ¤ ì˜ˆì‹œ (`UserService.java`)

java

ë³µì‚¬í¸ì§‘

`public UserInfoDto getUserInfo(Long userId) {     User user = userRepository.findById(userId)         .orElseThrow(() -> new RuntimeException("ì‚¬ìš©ì ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."));          return new UserInfoDto(user); }`

---

## âœ… 3. Thymeleaf HTML (`resources/templates/mypage.html`)

html

ë³µì‚¬í¸ì§‘

`<!DOCTYPE html> <html xmlns:th="http://www.thymeleaf.org"> <head>     <title>ë§ˆì´í˜ì´ì§€</title> </head> <body>     <h1>ë§ˆì´í˜ì´ì§€</h1>      <p><strong>ì•„ì´ë””:</strong> <span th:text="${user.loginId}"></span></p>     <p><strong>ì´ë¦„:</strong> <span th:text="${user.userName}"></span></p>     <p><strong>ì´ë©”ì¼:</strong> <span th:text="${user.email}"></span></p>     <p><strong>ê°€ì…ì¼:</strong> <span th:text="${#temporals.format(user.createdAt, 'yyyy-MM-dd')}"></span></p> </body> </html>`

---

## âœ… 4. DTO ì˜ˆì‹œ (`UserInfoDto.java`)

java

ë³µì‚¬í¸ì§‘

`@Getter public class UserInfoDto {     private String loginId;     private String userName;     private String email;     private LocalDateTime createdAt;      public UserInfoDto(User user) {         this.loginId = user.getLoginId();         this.userName = user.getUserName();         this.email = user.getEmail();         this.createdAt = user.getCreatedAt();     } }`

---

## ğŸ” ì „ì œ ì¡°ê±´

- `Spring Security`ë¡œ ë¡œê·¸ì¸ ì¸ì¦ì´ ë˜ì–´ ìˆì–´ì•¼ í•˜ê³ 
    
- `CustomUserDetails`ëŠ” `UserDetails`ë¥¼ ìƒì†ë°›ê³  `userId`ë¥¼ ë³´ìœ í•œ í´ë˜ìŠ¤ì—¬ì•¼ í•¨