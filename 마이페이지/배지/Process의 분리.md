지금 옵합조건이 아닌 배지의 로직을 ㅂ마쳤는데
옵션이 있는 배지나 없는 배지나 점수를 업데이트 하는 걳은 똑같은거가탇.

1. user_id, badge_category_id, 옵션 으로 찾기
2. 배지 없으면 새로 만들기 + 초기화하기
3. 누적 조건에 따라서 업데이트 시키기

즉, 지금 로직에서는 레벨에따라서 누적인지 아닌지ㅡㄹㄹ 나눴는데

이건 싱글의 겨우엥도 똑같다고 생각한다.

그렇다면........ 추상화계층을

점수 업데이트를 하는 로직은 따로 모듈화를 하면 될거같고
조건 판단도 똑같다.

그럼 레벨, 싱글인지를 나누면 된다processor는 - 왜냐면 싱글은 레벨업을 할 필요가 없기 때문 게다가 싱글은 모듈화가 어렵다 로직이 다 다ㅡ릭 때문에

그럼 레벨에서
옵션형인지 아닌지를 판단해야한다.


1. 레벨, 싱글
2. 옵션, 그냥 다이렉트
3. 누적, 누적아님 모듈화 - value 업데이트는 모듈화 가능

트랜젝션은 event에